# å˜æ›´æ—¥å¿— - v3.0

## [3.0.0] - 2025-10-15

### ğŸ‰ é‡å¤§å‡çº§ - ä¹æ‚¦èåˆç‰ˆ

#### æ–°å¢åŠŸèƒ½

##### ç”µå•†åŸŸ (7 ä¸ªæ–°é›†åˆ)

- **products** - å•†å“ä¸»è¡¨

  - æ”¯æŒè·µè¡Œè€…è®¤è¯
  - ä¸­åŒ»ä½“è´¨é€‚é…
  - èŠ‚æ°”æ¨èæ ‡ç­¾
  - å®Œæ•´è§„æ ¼ç®¡ç†

- **shopping_cart** - è´­ç‰©è½¦

  - æ™ºèƒ½ä½“è´¨æç¤º
  - ç»„åˆæ¨è

- **product_reviews** - å•†å“è¯„ä»·

  - è·µè¡Œè€…æ ‡è¯†
  - è¯¦ç»†è¯„åˆ†

- **inventory** - åº“å­˜ç®¡ç†

  - æ™ºèƒ½è¡¥è´§å»ºè®®
  - èŠ‚æ°”éœ€æ±‚é¢„æµ‹

- **promotions** - è¥é”€æ´»åŠ¨

  - ä½“è´¨å®šå‘è¥é”€
  - èŠ‚æ°”è¥é”€
  - ç¢³å‡æ’æ¿€åŠ±

- **coupons** - ä¼˜æƒ åˆ¸

  - èŠ±å›­è¡Œä¸ºè§¦å‘
  - çµæ´»å‘æ”¾è§„åˆ™

- **user_coupons** - ç”¨æˆ·ä¼˜æƒ åˆ¸
  - å¤šæ¸ é“è·å–
  - çŠ¶æ€ç®¡ç†

##### è¿è¥åŸŸ (2 ä¸ªæ–°é›†åˆ)

- **data_dashboard** - ç»Ÿä¸€æ•°æ®çœ‹æ¿

  - èŠ±å›­+å•†åŸèåˆæŒ‡æ ‡
  - æ™ºèƒ½æ´å¯Ÿ

- **business_rules** - ä¸šåŠ¡è§„åˆ™é…ç½®
  - ç§¯åˆ†è½¬æ¢è§„åˆ™
  - æ¨èè§„åˆ™
  - è¥é”€è§„åˆ™

#### å­—æ®µæ‰©å±• (7 ä¸ªé›†åˆ)

##### users æ‰©å±•

- `+ ecommerce` - å•†åŸå…³è”æ•°æ®

  - customerLevel (å®¢æˆ·åˆ†å±‚)
  - rfm (RFM æ¨¡å‹)
  - purchasePreferences (è´­ç‰©åå¥½)
  - vipLevel (ä¼šå‘˜ç­‰çº§)

- `+ pointsSystem` - ç§¯åˆ†äº’é€š

  - gardenPoints (èŠ±å›­ç§¯åˆ†)
  - shopPoints (å•†åŸç§¯åˆ†)
  - totalPoints (æ€»ç§¯åˆ†)

- `+ jiuyue` - ä¹æ‚¦ç‰¹æœ‰å­—æ®µ
  - dietaryNeeds (é¥®é£Ÿéœ€æ±‚)
  - purchaseScenarios (è´­ä¹°åœºæ™¯)
  - customerServiceRecords (å®¢æœè®°å½•)
  - referralInfo (æ¨èå…³ç³»)

##### user_profiles_extended æ‰©å±•

- `+ jiuyueProfile` - ä¹æ‚¦å®¢æˆ·ç”»åƒ
  - consumerPersona (æ¶ˆè´¹ç”»åƒ)
  - valueLabels (ä»·å€¼è§‚æ ‡ç­¾)
  - shoppingHabits (è´­ç‰©ä¹ æƒ¯)

##### ingredients æ‰©å±•

- `+ ecommerceLink` - ç”µå•†é“¾æ¥
  - availableProducts (å¯è´­ä¹°å•†å“)
  - priceHistory (ä»·æ ¼è¿½è¸ª)
  - purchaseStats (è´­ä¹°ç»Ÿè®¡)

##### recipes æ‰©å±•

- `+ shoppingFeature` - ä¸€é”®è´­ä¹°

  - purchaseList (è´­ä¹°æ¸…å•)
  - oneClickBuy (ä¸€é”®è´­ä¹°)

- `+ monetization` - å•†ä¸šåŒ–
  - isSponsored (å† å)
  - affiliateProducts (è”è¥)

##### practitioners æ‰©å±•

- `+ commercialization` - å•†ä¸šåŒ–èƒ½åŠ›
  - recommendedProducts (æ¨èå•†å“)
  - earnings (æ”¶ç›Šç»Ÿè®¡)
  - influence (å½±å“åŠ›)

##### daily_stats æ‰©å±•

- `+ shopping` - è´­ç‰©æ•°æ®
  - ordersCount (è®¢å•æ•°)
  - totalSpent (æ¶ˆè´¹é‡‘é¢)
  - shoppingCarbonFootprint (è´­ç‰©ç¢³è¶³è¿¹)

##### orders æ‰©å±•

- `+ gardenIntegration` - èŠ±å›­é›†æˆ

  - carbonReductionEarned (ç¢³å‡æ’)
  - pointsEarned (ç§¯åˆ†)
  - syncedToGarden (åŒæ­¥çŠ¶æ€)

- `+ recommendation` - æ¨èæ¥æº

  - practitionerReferralId (è·µè¡Œè€…æ¨è)
  - recipeId (é£Ÿè°±æ¨è)

- `+ userFeedback` - ç”¨æˆ·åé¦ˆ
  - satisfaction (æ»¡æ„åº¦)
  - willRepurchase (å¤è´­æ„æ„¿)

#### æ–°å¢äº‘å‡½æ•°

- **product-recommend** - å•†å“æ¨èå¼•æ“

  - å¤šç»´åº¦æ¨è (ä½“è´¨/èŠ‚æ°”/è·µè¡Œè€…/ä¸ªæ€§åŒ–)
  - æ™ºèƒ½æ’åº

- **order-sync** - è®¢å•åŒæ­¥

  - è‡ªåŠ¨åŒæ­¥åˆ°èŠ±å›­
  - è®¡ç®—ç¢³è¶³è¿¹
  - æ›´æ–°ç§¯åˆ†

- **product-data-import** - å•†å“æ•°æ®å¯¼å…¥
  - æ‰¹é‡å¯¼å…¥
  - è‡ªåŠ¨åˆ›å»ºåº“å­˜

#### ç¤ºä¾‹æ•°æ®

- 5 ä¸ªä¹æ‚¦ç¤ºä¾‹å•†å“
  - æœ‰æœºè±†è…ã€æœ‰æœºç³™ç±³ã€è¥¿å…°èŠ±
  - é»‘èŠéº»æ ¸æ¡ƒç²‰ã€ç´ é£Ÿé…±æ²¹

#### æ–‡æ¡£æ›´æ–°

- `Docs/æ•°æ®åº“æ¶æ„å‡çº§æ–¹æ¡ˆv3.0-ä¹æ‚¦èåˆç‰ˆ.md`
- `æ•°æ®åº“v3.0å‡çº§-æ‰§è¡Œæ‘˜è¦.md`
- `æ•°æ®åº“v3.0å‡çº§-æ‰§è¡ŒæŒ‡å—.md`
- `Docs/æ•°æ®åº“ç´¢å¼•é…ç½®v3.0.md`
- `Docs/ç´¢å¼•åˆ›å»º-å¤åˆ¶ç²˜è´´ç‰ˆv3.0.md`
- `æ•°æ®åº“v3.0å‡çº§-å®ŒæˆæŠ¥å‘Š.md`
- `ğŸ‰æ•°æ®åº“v3.0å‡çº§å®Œæˆ.md`
- `v3.0å‡çº§-ä¸‹ä¸€æ­¥è¡ŒåŠ¨æ¸…å•.md`
- `README-æ•°æ®åº“v3.0.md`

### æŠ€æœ¯æ”¹è¿›

- æ•°æ®åº“ç®¡ç†äº‘å‡½æ•°æ”¯æŒ init-v3 å’Œ migrate-v3
- å®Œå–„çš„é¢„è§ˆå’Œå›æ»šæœºåˆ¶
- è¯¦ç»†çš„é”™è¯¯å¤„ç†

### æ€§èƒ½ä¼˜åŒ–

- ç´¢å¼•è®¾è®¡ä¼˜åŒ– (37 ä¸ªæ–°ç´¢å¼•)
- æŸ¥è¯¢å­—æ®µç²¾ç®€
- åˆ†é¡µåŠ è½½ç­–ç•¥

---

## [2.0.0] - 2025-10-14

### æ–°å¢ - è·µè¡Œè€…æ™ºæ…§åº“

- 7 ä¸ªæ™ºæ…§åŸŸé›†åˆ
- 100 ä½è·µè¡Œè€…æ¡£æ¡ˆä½“ç³»
- ä¸­åŒ»æ™ºæ…§èåˆ

---

## [1.2.0] - 2025-01

### æ–°å¢ - åŸºç¡€åŠŸèƒ½

- 14 ä¸ªæ ¸å¿ƒé›†åˆ
- ç¢³è¶³è¿¹è¿½è¸ª
- è™šæ‹ŸèŠ±å›­
- æ¤ç‰©æ¨¡æ¿ç³»ç»Ÿ

---

## å‡çº§æŒ‡å¼•

### ä» v2.0 å‡çº§åˆ° v3.0

```bash
# 1. éƒ¨ç½²äº‘å‡½æ•°
tcb fn deploy database --dir ./cloudfunctions/database --force

# 2. åˆ›å»ºæ–°é›†åˆ
tcb fn invoke database --params '{"action":"init-v3"}'

# 3. è¿ç§»ç°æœ‰é›†åˆ
tcb fn invoke database --params '{"action":"migrate-v3","params":{"action":"migrate"}}'

# 4. éªŒè¯å‡çº§
tcb fn invoke database --params '{"action":"get-status"}'

# 5. é…ç½®ç´¢å¼• (éœ€åœ¨æ§åˆ¶å°æ‰‹åŠ¨å®Œæˆ)
å‚è€ƒ: Docs/ç´¢å¼•åˆ›å»º-å¤åˆ¶ç²˜è´´ç‰ˆv3.0.md
```

---

**ç»´æŠ¤**: MyGarden Ã— ä¹æ‚¦ç´ ä¾› è”åˆå›¢é˜Ÿ  
**è”ç³»**: æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£
