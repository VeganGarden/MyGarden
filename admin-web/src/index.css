/* 导入设计系统变量 */
@import './styles/variables.css';
@import './styles/theme-dark.css';
@import './styles/components.css';

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background: var(--bg-body);
  color: var(--text-primary);
}

/* 数字字体优化 */
.number,
[data-type='number'] {
  font-family: var(--font-family-number);
  font-variant-numeric: tabular-nums;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

#root {
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

/* Toast 消息优化 - 使用品牌色和流畅动画 */
:global(.ant-message) {
  z-index: 1060;
}

:global(.ant-message-notice) {
  animation: messageSlideIn 0.3s var(--ease-out);
}

:global(.ant-message-notice-leave) {
  animation: messageSlideOut 0.3s var(--ease-in);
}

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes messageSlideOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
}

/* 成功消息使用品牌色 */
:global(.ant-message-success .anticon) {
  color: var(--brand-primary);
}

/* 按钮交互优化 - 添加点击反馈 */
:global(.ant-btn) {
  transition: all var(--transition-fast) var(--ease-out);
  position: relative;
  overflow: hidden;
}

:global(.ant-btn:active) {
  transform: scale(0.98);
}

/* 按钮样式优化 - 现在通过 ConfigProvider 的 theme 配置统一管理主题色 */
/* 这里只保留交互效果的增强 */
:global(.ant-btn-primary) {
  /* 背景色和边框色已通过 ConfigProvider theme 配置 */
  transition: all var(--transition-fast) var(--ease-out);
}

:global(.ant-btn-primary:hover) {
  /* 悬停颜色已通过 ConfigProvider theme 配置 */
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(34, 197, 94, 0.3);
}

:global(.ant-btn-primary:active) {
  /* 激活颜色已通过 ConfigProvider theme 配置 */
  transform: translateY(0) scale(0.98);
}

/* 确保品牌绿色在所有状态下都正确应用 */
:global(.ant-btn-primary) {
  background: var(--brand-primary) !important;
  border-color: var(--brand-primary) !important;
}

:global(.ant-btn-primary:hover) {
  background: var(--brand-primary-hover) !important;
  border-color: var(--brand-primary-hover) !important;
}

:global(.ant-btn-primary:active) {
  background: var(--brand-primary-active) !important;
  border-color: var(--brand-primary-active) !important;
}

/* 表单交互优化 */
:global(.ant-input:focus),
:global(.ant-input-affix-wrapper-focused) {
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px var(--bg-active);
}

:global(.ant-input:hover) {
  border-color: var(--brand-primary-hover);
}

/* 表单验证反馈优化 */
:global(.ant-form-item-has-error .ant-input),
:global(.ant-form-item-has-error .ant-input-affix-wrapper) {
  border-color: var(--error-color);
}

:global(.ant-form-item-has-error .ant-input:focus),
:global(.ant-form-item-has-error .ant-input-affix-wrapper-focused) {
  border-color: var(--error-color);
  box-shadow: 0 0 0 2px rgba(245, 34, 45, 0.1);
}

:global(.ant-form-item-has-success .ant-input),
:global(.ant-form-item-has-success .ant-input-affix-wrapper) {
  border-color: var(--brand-primary);
}

:global(.ant-form-item-has-success .ant-input:focus),
:global(.ant-form-item-has-success .ant-input-affix-wrapper-focused) {
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px var(--bg-active);
}

/* ==================== Menu 图标和文字间距控制 ==================== */
/* 使用最高优先级，直接设置图标的 margin-right 为 2px */
/* 覆盖所有可能的 Ant Design Menu 内部结构 */
:global(.ant-layout-sider .ant-menu-item .anticon),
:global(.ant-layout-sider .ant-menu-submenu-title .anticon),
:global(.ant-layout-sider .ant-menu-item > .anticon),
:global(.ant-layout-sider .ant-menu-submenu-title > .anticon),
:global(.ant-layout-sider .ant-menu-submenu-title .ant-menu-item-icon),
:global(.ant-layout-sider .ant-menu-item .ant-menu-item-icon),
:global(.ant-layout-sider .ant-menu-submenu-title .ant-menu-item-icon .anticon),
:global(.ant-layout-sider .ant-menu-item .ant-menu-item-icon .anticon),
:global(.ant-layout-sider .ant-menu-submenu-title .ant-menu-item-icon > *),
:global(.ant-layout-sider .ant-menu-item .ant-menu-item-icon > *) {
  margin-right: 2px !important; /* 直接设置图标和文字之间的间距为 2px */
  margin-left: 0 !important;
  padding-right: 0 !important;
  padding-left: 0 !important;
}

/* 确保图标容器本身也没有额外的间距 */
:global(.ant-layout-sider .ant-menu-submenu-title .ant-menu-item-icon),
:global(.ant-layout-sider .ant-menu-item .ant-menu-item-icon) {
  margin-right: 0 !important;
  margin-left: 0 !important;
  padding-right: 0 !important;
  padding-left: 0 !important;
}

/* 确保文字部分没有额外的左边距，并且明确左对齐 */
:global(.ant-layout-sider .ant-menu-item > span),
:global(.ant-layout-sider .ant-menu-submenu-title > span) {
  margin-left: 0 !important;
  text-align: left !important; /* 明确左对齐 */
  display: block !important; /* 确保是块级元素 */
  flex: 1 1 auto !important; /* 使用 flex 占据剩余空间，而不是固定宽度 */
  min-width: 0 !important; /* 允许收缩 */
  align-self: flex-start !important; /* flex 子元素左对齐 */
}

