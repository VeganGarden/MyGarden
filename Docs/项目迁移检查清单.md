# MyGarden项目迁移检查清单

## 📋 迁移前准备（当前电脑）

### ✅ 环境检查
- [ ] Node.js版本：检查当前版本 `node --version`
- [ ] npm版本：`npm --version`
- [ ] 微信开发者工具：确保已安装

### ✅ 代码准备
- [ ] 运行迁移准备脚本：`bash migration-prepare.sh`
- [ ] 提交所有代码变更：`git add . && git commit -m "迁移前提交"`
- [ ] 推送到远程仓库：`git push`

### ✅ 敏感信息备份
- [ ] 备份 `.env` 文件中的环境变量
- [ ] 备份 `project.private.config.json` 中的私有配置
- [ ] 记录云函数配置信息

## 🚀 新电脑设置

### ✅ 环境安装
- [ ] 安装Node.js（推荐LTS版本）
- [ ] 安装npm或yarn
- [ ] 安装微信开发者工具
- [ ] 安装Git

### ✅ 项目克隆
- [ ] 克隆项目：`git clone [仓库地址] MyGarden`
- [ ] 进入项目目录：`cd MyGarden`

### ✅ 依赖安装
- [ ] 安装主项目依赖：`npm install`
- [ ] 安装云函数依赖：
  ```bash
  cd cloudfunctions/login && npm install
  cd ../user && npm install  
  cd ../garden && npm install
  cd ../carbon && npm install
  cd ../..
  ```

### ✅ 环境配置
- [ ] 创建 `.env` 文件并配置环境变量
- [ ] 配置 `project.private.config.json`
- [ ] 配置微信开发者工具中的AppID

## 🔧 测试验证

### ✅ 构建测试
- [ ] 运行开发构建：`npm run dev:weapp`
- [ ] 检查构建是否成功
- [ ] 在微信开发者工具中预览

### ✅ 功能测试
- [ ] 测试登录功能
- [ ] 测试花园管理功能
- [ ] 测试碳积分功能
- [ ] 测试用户资料功能

### ✅ 云函数测试
- [ ] 部署云函数到新环境
- [ ] 测试云函数调用
- [ ] 验证数据库连接

## 📝 常见问题解决

### ❗ 构建错误
- 检查Node.js版本兼容性
- 清理缓存：`npm cache clean --force`
- 删除node_modules重新安装

### ❗ 云函数问题
- 检查云环境配置
- 验证云函数依赖是否正确安装
- 检查云函数运行环境设置

### ❗ 微信小程序问题
- 检查AppID配置
- 验证域名白名单设置
- 检查权限配置

## 📞 紧急恢复方案

如果迁移遇到问题，可以：
1. 回滚到之前的git提交
2. 使用备份文件恢复配置
3. 联系技术支持

---

**迁移完成时间：** ______________
**迁移负责人：** ______________
**备注：** ______________