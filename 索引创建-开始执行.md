# 🎯 索引创建 - 立即开始

> 集合已创建成功，现在创建索引！

---

## ❌ JSON 批量导入：不支持

经过验证，**腾讯云开发控制台不支持 JSON 批量导入索引**。

必须使用**图形界面逐个创建**。

---

## ✅ 最简化方案

### 📖 使用文档

打开 **`Docs/索引创建-复制粘贴版.md`**

- ✅ 28 个索引，每个都是复制粘贴格式
- ✅ 带进度跟踪复选框
- ✅ 标注优先级和预计时间

### 🌐 打开控制台

访问：https://console.cloud.tencent.com/tcb/db/collection/my-garden-app-env-4e0h762923be2f

---

## ⚡ 快速开始（3 步）

### 第 1 步：打开文档

```bash
open Docs/索引创建-复制粘贴版.md
```

### 第 2 步：打开控制台

```
https://console.cloud.tencent.com/tcb
→ 选择环境: my-garden-app-env-4e0h762923be2f
→ 点击「数据库」
→ 点击「集合管理」
```

### 第 3 步：逐个创建

**示例（第一个索引）**:

1. 点击 `users` 集合
2. 点击「索引管理」标签
3. 点击「新建索引」按钮
4. 复制文档中的配置：
   ```
   索引名称: openId_unique
   字段: openId
   排序: 升序(1)
   ✅ 勾选唯一索引
   ```
5. 点击「确定」
6. ✅ 在文档中打钩

重复 28 次！

---

## 🎯 优先级策略

### 方案 A: 快速上线（5 分钟）

**只创建核心 7 个索引**，其他的以后再说：

1. ⭐ users.openId_unique
2. ⭐ meals.userId_mealDate_index
3. ⭐ meals.userId_source_orderId_unique
4. ⭐ daily_stats.userId_date_index
5. ⭐ daily_stats.userId_date_unique
6. ⭐ gardens.userId_unique
7. ⭐ orders.orderNo_unique

**完成后**: 核心功能可用

### 方案 B: 完整上线（20 分钟）

**创建全部 28 个索引**

**完成后**: 所有功能性能最优

---

## 📋 创建技巧

### 提速方法

1. **双屏**: 一个屏幕文档，一个屏幕控制台
2. **复制**: 索引名称和字段名直接复制
3. **Tab 键**: 快速切换输入框
4. **分批**: 创建 5-7 个休息一下

### 避免错误

✅ **字段名区分大小写**

- userId ✅
- userid ❌

✅ **升序降序要正确**

- 文档写 `1` → 选择「升序」
- 文档写 `-1` → 选择「降序」

✅ **唯一索引要勾选**

- 索引名带 `_unique` → 勾选唯一索引

---

## 📊 进度追踪

| 批次     | 数量      | 预计时间    | 完成情况 |
| -------- | --------- | ----------- | -------- |
| 核心索引 | 7 个      | 5 分钟      | □        |
| 高优先级 | 13 个     | 10 分钟     | □        |
| 中优先级 | 8 个      | 5 分钟      | □        |
| **总计** | **28 个** | **20 分钟** | **0/28** |

---

## 🎉 完成标志

### 检查方法

创建完成后，在每个集合的索引管理页面查看：

**users 集合应该有 4-5 个索引**：

```
✓ _id_                  (系统)
✓ _openid_              (系统，可能有)
✓ openId_unique         (您创建)
✓ level_points_ranking  (您创建)
✓ lastLoginAt_index     (您创建)
```

**meals 集合应该有 5-6 个索引**：

```
✓ _id_                           (系统)
✓ userId_mealDate_index          (您创建)
✓ userId_createdAt_index         (您创建)
✓ userId_source_orderId_unique   (您创建)
✓ isPublic_createdAt_index       (您创建)
```

...依此类推

---

## 📚 文档资源

| 文档                       | 用途       | 推荐度     |
| -------------------------- | ---------- | ---------- |
| **索引创建-复制粘贴版.md** | 快速创建   | ⭐⭐⭐⭐⭐ |
| 数据库索引创建手册.md      | 详细说明   | ⭐⭐⭐⭐   |
| 索引配置表.csv             | Excel 对照 | ⭐⭐⭐     |

---

## 🚀 立即开始

1. 打开 **`Docs/索引创建-复制粘贴版.md`**
2. 打开云开发控制台
3. 开始创建第一个索引！

---

**预计完成时间**: 约 20 分钟  
**完成后**: 数据库完全就绪，可以开始开发！🎉
